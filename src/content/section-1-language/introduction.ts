import type { Chapter } from '../types'

export default {
  id: 'introduction',
  title: 'Введение в C',
  description: 'История, философия и место C в современном мире',
  blocks: [
    {
      type: 'prose',
      markdown: `# Введение в язык C

Язык C — один из самых влиятельных языков программирования в истории. Созданный более полувека назад, он до сих пор остаётся незаменимым инструментом для системного программирования, разработки операционных систем, встраиваемых систем и высокопроизводительных приложений.

В этой главе мы познакомимся с историей создания C, его философией и поймём, почему этот язык по-прежнему актуален.`,
    },
    {
      type: 'prose',
      markdown: `## Рождение языка C

В конце 1960-х — начале 1970-х годов в **Bell Labs** (исследовательское подразделение AT&T) шла работа над операционной системой Unix. **Деннис Ритчи** (Dennis Ritchie) разработал язык C в 1972 году как эволюцию языка B, который, в свою очередь, был упрощённой версией BCPL.

Ключевые фигуры:
- **Деннис Ритчи** — создатель языка C
- **Кен Томпсон** — создатель Unix и языка B
- **Брайан Керниган** — соавтор книги «The C Programming Language» (K&R C)

Книга Кернигана и Ритчи, известная как **K&R**, стала де-факто стандартом языка до появления ANSI C в 1989 году.`,
    },
    {
      type: 'note',
      variant: 'info',
      title: 'Знаете ли вы?',
      markdown:
        'Деннис Ритчи получил Премию Тьюринга в 1983 году (совместно с Кеном Томпсоном) за вклад в разработку обобщённых операционных систем и, в частности, Unix. Без языка C мир вычислительной техники был бы совершенно иным.',
    },
    {
      type: 'prose',
      markdown: `## Эволюция стандартов

Язык C прошёл через несколько крупных стандартов:

| Год | Стандарт | Основные нововведения |
|-----|----------|----------------------|
| 1978 | K&R C | Первая спецификация (книга) |
| 1989 | ANSI C (C89) | Первый официальный стандарт, прототипы функций |
| 1999 | C99 | Однострочные комментарии \`//\`, \`_Bool\`, \`long long\`, VLA |
| 2011 | C11 | Многопоточность, \`_Generic\`, анонимные структуры |
| 2017 | C17 | Исправления ошибок C11 |
| 2023 | C23 | \`typeof\`, \`constexpr\`, \`nullptr\`, удалены K&R-объявления |

В этой книге мы будем ориентироваться на **C17** как основной стандарт, с комментариями о нововведениях **C23** где это уместно.`,
    },
    {
      type: 'prose',
      markdown: `## Философия языка C

C придерживается нескольких ключевых принципов:

1. **Доверие программисту.** C не проверяет границы массивов, не управляет памятью автоматически. Программист несёт полную ответственность.
2. **Близость к аппаратуре.** C даёт прямой доступ к памяти через указатели, позволяет работать с битами и байтами.
3. **Минимализм.** Ядро языка невелико. Большая функциональность вынесена в стандартную библиотеку.
4. **Портируемость.** Программы на C можно скомпилировать практически для любой платформы.
5. **Производительность.** C компилируется в машинный код с минимальными накладными расходами.`,
    },
    {
      type: 'prose',
      markdown: `## Где используется C сегодня?

Язык C лежит в основе огромного количества программного обеспечения:

- **Ядра ОС:** Linux, Windows NT, macOS (XNU) — все написаны на C
- **Компиляторы и интерпретаторы:** GCC, Clang, CPython, Ruby MRI
- **Базы данных:** SQLite, PostgreSQL, MySQL
- **Встраиваемые системы:** микроконтроллеры, IoT-устройства, автомобильная электроника
- **Игровые движки:** части Unity, Unreal Engine
- **Сетевые утилиты:** curl, OpenSSL, nginx

Практически любое устройство, с которым вы взаимодействуете каждый день, запускает код на C.`,
    },
    {
      type: 'note',
      variant: 'tip',
      title: 'Почему учить C?',
      markdown: `Даже если вы не планируете писать на C ежедневно, его изучение даёт неоценимые преимущества:

- Глубокое понимание того, как работает компьютер
- Понимание указателей, памяти и стека — фундамент для любого языка
- Способность читать исходный код ОС, драйверов и библиотек
- Высокая ценность на рынке труда в области системного программирования`,
    },
    {
      type: 'prose',
      markdown: `## Ваша первая программа на C

Давайте посмотрим на простейшую программу на C. Пока не нужно разбираться в каждой строке — мы детально разберём её в следующей главе. Просто почувствуйте синтаксис:`,
    },
    {
      type: 'code',
      language: 'c',
      code: `#include <stdio.h>

int main(void)
{
    printf("Привет, мир!\\n");
    return 0;
}`,
      filename: 'hello.c',
    },
    {
      type: 'output',
      content: 'Привет, мир!',
      prompt: '$ gcc hello.c -o hello && ./hello',
    },
    {
      type: 'prose',
      markdown: `Эта программа делает всего одну вещь — выводит текст на экран. Но даже в ней видны характерные черты C:

- Директива \`#include\` — подключение стандартной библиотеки
- Функция \`main\` — точка входа в программу
- \`printf\` — функция вывода из стандартной библиотеки
- \`return 0\` — явный код возврата, сигнализирующий об успешном завершении`,
    },
    {
      type: 'prose',
      markdown: `## C и другие языки

Язык C оказал огромное влияние на последующие языки программирования:

- **C++** — расширение C с классами и шаблонами (1979)
- **Objective-C** — C с объектной моделью Smalltalk (1984)
- **Java** — синтаксис вдохновлён C/C++ (1995)
- **C#** — синтаксис из семейства C (2000)
- **Go** — создан авторами Unix, синтаксис напоминает C (2009)
- **Rust** — замена C/C++ с безопасностью памяти (2010)

Знание C делает изучение всех этих языков значительно проще.`,
    },
    {
      type: 'quiz',
      question: 'Кто создал язык C?',
      options: [
        'Бьярне Страуструп',
        'Деннис Ритчи',
        'Кен Томпсон',
        'Брайан Керниган',
      ],
      correctIndex: 1,
      explanation:
        'Деннис Ритчи (Dennis Ritchie) создал язык C в 1972 году в Bell Labs. Кен Томпсон создал язык B и Unix, а Брайан Керниган стал соавтором знаменитой книги K&R. Бьярне Страуструп создал C++.',
    },
    {
      type: 'quiz',
      question:
        'В каком году был принят первый официальный стандарт языка C (ANSI C)?',
      options: ['1972', '1978', '1989', '1999'],
      correctIndex: 2,
      explanation:
        'ANSI C (также известный как C89) был принят в 1989 году. 1972 — год создания языка, 1978 — год выхода книги K&R, 1999 — год стандарта C99.',
    },
    {
      type: 'prose',
      markdown: `## Что дальше?

В следующей главе мы подробно разберём анатомию программы «Hello, World»: что означает каждая строка, зачем нужен \`#include\`, что такое \`main\` и как \`printf\` выводит текст на экран.

Затем мы погрузимся в процесс компиляции и узнаем, как текстовый файл с кодом превращается в исполняемую программу.

Добро пожаловать в мир C!`,
    },
  ],
} satisfies Chapter
